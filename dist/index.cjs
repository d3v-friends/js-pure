"use strict";var d=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var $=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var M=(t,r)=>{for(var s in r)a(t,s,{get:r[s],enumerable:!0})},v=(t,r,s,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of $(r))!w.call(t,n)&&n!==s&&a(t,n,{get:()=>r[n],enumerable:!(o=E(r,n))||o.enumerable});return t};var u=(t,r,s)=>(s=t!=null?d(P(t)):{},v(r||!t||!t.__esModule?a(s,"default",{value:t,enumerable:!0}):s,t)),O=t=>v(a({},"__esModule",{value:!0}),t);var S={};M(S,{JsError:()=>l,fnCsv:()=>x,fnEnv:()=>h,fnParam:()=>g});module.exports=O(S);var l=class extends Error{constructor(r,s,o){if(r=`${r}: ${JSON.stringify(s||{})}`,super(r),!o){this.msg={en:r};return}this.msg={en:r,...o}}getMsg(r){return this.msg.hasOwnProperty(r)?this.msg[r]:this.msg.hasOwnProperty("en")?this.msg.en:"not found error msg"}};var g;(s=>{function t(o,...n){return o.length===0?n.length===0?!1:n[0]:o[0]}s.bool=t;function r(o,...n){return o.length===0?n.length===0?"":n[0]:o[0]}s.string=r})(g||={});var m=u(require("fs")),y=u(require("path")),b=u(require("readline"));var h;(n=>{function t(i,...f){let e=process.env[i]||g.string(f);return e==""&&(console.log(`not found env: key=${i}`),process.exit(1)),e}n.string=t;async function r(...i){let f=y.default.resolve(...i);if(!m.default.existsSync(f))throw new l("not found env file",{fp:f},{ko:"\uD658\uACBD\uBCC0\uC218 \uD30C\uC77C\uC744 \uCC3E\uC9C0 \uBABB\uD558\uC600\uC2B5\uB2C8\uB2E4."});let e=b.default.createInterface({input:m.default.createReadStream(f),crlfDelay:1/0});for await(let p of e){let c=p.replace(/ /g,"").split("=");c.length==2&&(process.env[c[0]]=c[1],console.log(`env: ${c[0]}=${c[1]}`))}}n.read=r;function s(i,...f){let e=process.env[i]||"";if(e==="")if(f.length===0)console.log(`not found env: key=${i}`),process.exit(1);else return f[0];return e==="true"}n.boolean=s;function o(i,...f){let e=process.env[i]||"";if(!e)return f.length===0?[]:f[0];for(let p=0;p<e.lastIndexOf(" ");p++)e=e.replace(" ","");return e.startsWith("[")?e.endsWith("]")?(e=e.slice(1,e.length-1),e.split(",")):[]:[]}n.array=o})(h||={});var x;(s=>{function t(o){let n="";for(let i of o)n+=`${i},`;return n.slice(0,n.length-1)}s.strToCsv=t;function r(o){return o.replace(/ /g,"").split(",").filter(n=>n!=="").map(n=>n.trim())}s.csvToStr=r})(x||={});0&&(module.exports={JsError,fnCsv,fnEnv,fnParam});
