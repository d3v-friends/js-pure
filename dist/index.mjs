var f=class extends Error{constructor(e,l,t){if(e=`${e}: ${JSON.stringify(l||{})}`,super(e),!t){this.msg={en:e};return}this.msg={en:e,...t}}getMsg(e){return this.msg.hasOwnProperty(e)?this.msg[e]:this.msg.hasOwnProperty("en")?this.msg.en:"not found error msg"}};var g;(l=>{function p(t,...n){return t.length===0?n.length===0?!1:n[0]:t[0]}l.bool=p;function e(t,...n){return t.length===0?n.length===0?"":n[0]:t[0]}l.string=e})(g||={});import a from"fs";import h from"path";import x from"readline";var u;(n=>{function p(o,...s){let r=process.env[o]||g.string(s);return r==""&&(console.log(`not found env: key=${o}`),process.exit(1)),r}n.string=p;async function e(...o){let s=h.resolve(...o);if(!a.existsSync(s))throw new f("not found env file",{fp:s},{ko:"\uD658\uACBD\uBCC0\uC218 \uD30C\uC77C\uC744 \uCC3E\uC9C0 \uBABB\uD558\uC600\uC2B5\uB2C8\uB2E4."});let r=x.createInterface({input:a.createReadStream(s),crlfDelay:1/0});for await(let c of r){let i=c.replace(/ /g,"").split("=");i.length==2&&(process.env[i[0]]=i[1],console.log(`env: ${i[0]}=${i[1]}`))}}n.read=e;function l(o,...s){let r=process.env[o]||"";if(r==="")if(s.length===0)console.log(`not found env: key=${o}`),process.exit(1);else return s[0];return r==="true"}n.boolean=l;function t(o,...s){let r=process.env[o]||"";if(!r)return s.length===0?[]:s[0];for(let c=0;c<r.lastIndexOf(" ");c++)r=r.replace(" ","");return r.startsWith("[")?r.endsWith("]")?(r=r.slice(1,r.length-1),r.split(",")):[]:[]}n.array=t})(u||={});var m;(l=>{function p(t){let n="";for(let o of t)n+=`${o},`;return n.slice(0,n.length-1)}l.strToCsv=p;function e(t){return t.replace(/ /g,"").split(",").filter(n=>n!=="").map(n=>n.trim())}l.csvToStr=e})(m||={});export{f as JsError,m as fnCsv,u as fnEnv,g as fnParam};
